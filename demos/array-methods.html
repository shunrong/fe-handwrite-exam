<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ•°ç»„æ–¹æ³•é›†åˆæ¼”ç¤º</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .demo-container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        h1 {
            color: #333;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .demo-section {
            margin-bottom: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #fd7e14;
        }
        
        .demo-section h2 {
            color: #fd7e14;
            margin-bottom: 15px;
        }
        
        .test-button {
            background: #fd7e14;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        
        .test-button:hover {
            background: #e55a00;
        }
        
        .test-button.primary {
            background: #007bff;
        }
        
        .test-button.primary:hover {
            background: #0056b3;
        }
        
        .test-button.success {
            background: #28a745;
        }
        
        .test-button.success:hover {
            background: #1e7e34;
        }
        
        .test-button.info {
            background: #17a2b8;
        }
        
        .test-button.info:hover {
            background: #138496;
        }
        
        .result {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .array-display {
            background: white;
            border: 2px solid #fd7e14;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .array-display h4 {
            margin: 0 0 10px 0;
            color: #fd7e14;
        }
        
        .array-item {
            display: inline-block;
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 5px 10px;
            margin: 2px;
            border-radius: 3px;
            font-family: monospace;
        }
        
        .array-item.highlighted {
            background: #d4edda;
            border-color: #c3e6cb;
        }
        
        .comparison-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin: 15px 0;
        }
        
        .comparison-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #dee2e6;
        }
        
        .comparison-item h4 {
            margin: 0 0 10px 0;
            color: #495057;
        }
        
        .performance-section {
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .performance-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .performance-item {
            background: white;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            border: 1px solid #bbdefb;
        }
        
        .performance-value {
            font-size: 16px;
            font-weight: bold;
            color: #1976d2;
        }
        
        .performance-label {
            font-size: 12px;
            color: #1976d2;
        }
        
        .back-link {
            display: inline-block;
            color: #007bff;
            text-decoration: none;
            margin-bottom: 20px;
            padding: 8px 15px;
            border: 1px solid #007bff;
            border-radius: 5px;
            transition: all 0.3s;
        }
        
        .back-link:hover {
            background: #007bff;
            color: white;
        }
        
        .interactive-demo {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }
        
        .interactive-demo h4 {
            margin: 0 0 15px 0;
            color: #495057;
        }
        
        .input-group {
            margin: 10px 0;
        }
        
        .input-group label {
            display: inline-block;
            width: 120px;
            font-weight: bold;
        }
        
        .input-group input {
            padding: 5px 10px;
            border: 1px solid #ddd;
            border-radius: 3px;
            width: 200px;
        }
        
        .input-group button {
            background: #28a745;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 3px;
            cursor: pointer;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <a href="../index.html" class="back-link">â† è¿”å›é¦–é¡µ</a>
    
    <div class="demo-container">
        <h1>ğŸ“š æ•°ç»„æ–¹æ³•é›†åˆæ¼”ç¤º</h1>
        
        <div class="demo-section">
            <h2>ğŸ¯ æ•°ç»„å»é‡æ¼”ç¤º</h2>
            <p>æ¼”ç¤º10ç§ä¸åŒçš„æ•°ç»„å»é‡æ–¹æ³•ï¼ŒåŒ…æ‹¬å¤„ç†å¯¹è±¡å’ŒNaNçš„æƒ…å†µ</p>
            
            <button class="test-button" onclick="testBasicUnique()">åŸºç¡€å»é‡</button>
            <button class="test-button primary" onclick="testComplexUnique()">å¤æ‚å»é‡</button>
            <button class="test-button success" onclick="testObjectUnique()">å¯¹è±¡å»é‡</button>
            <button class="test-button info" onclick="testPerformanceUnique()">æ€§èƒ½å¯¹æ¯”</button>
            
            <div class="interactive-demo">
                <h4>ğŸ® äº¤äº’å¼å»é‡æµ‹è¯•</h4>
                <div class="input-group">
                    <label>è¾“å…¥æ•°ç»„:</label>
                    <input type="text" id="unique-input" placeholder="1,2,2,3,3,4" value="1,2,2,3,3,4">
                    <button onclick="customUniqueTest()">æµ‹è¯•å»é‡</button>
                </div>
                <div class="array-display" id="unique-display" style="display: none;">
                    <h4>å»é‡ç»“æœå¯¹æ¯”</h4>
                    <div id="unique-results"></div>
                </div>
            </div>
            
            <div class="result" id="unique-result"></div>
        </div>
        
        <div class="demo-section">
            <h2>ğŸ”„ æ•°ç»„æ‰å¹³åŒ–æ¼”ç¤º</h2>
            <p>æ¼”ç¤ºå¤šç§æ•°ç»„æ‰å¹³åŒ–æ–¹æ³•ï¼šé€’å½’ã€è¿­ä»£ã€å‡½æ•°å¼ç¼–ç¨‹ç­‰</p>
            
            <button class="test-button" onclick="testBasicFlatten()">åŸºç¡€æ‰å¹³åŒ–</button>
            <button class="test-button primary" onclick="testDepthFlatten()">æŒ‡å®šæ·±åº¦</button>
            <button class="test-button success" onclick="testAsyncFlatten()">å¼‚æ­¥æ‰å¹³åŒ–</button>
            <button class="test-button info" onclick="testFlattenMethods()">æ–¹æ³•å¯¹æ¯”</button>
            
            <div class="interactive-demo">
                <h4>ğŸ® äº¤äº’å¼æ‰å¹³åŒ–æµ‹è¯•</h4>
                <div class="input-group">
                    <label>åµŒå¥—æ·±åº¦:</label>
                    <input type="number" id="flatten-depth" value="2" min="1" max="10">
                    <button onclick="generateNestedArray()">ç”ŸæˆåµŒå¥—æ•°ç»„</button>
                    <button onclick="testCustomFlatten()">æµ‹è¯•æ‰å¹³åŒ–</button>
                </div>
                <div class="array-display" id="flatten-display" style="display: none;">
                    <h4>æ‰å¹³åŒ–è¿‡ç¨‹æ¼”ç¤º</h4>
                    <div id="flatten-steps"></div>
                </div>
            </div>
            
            <div class="result" id="flatten-result"></div>
        </div>
        
        <div class="demo-section">
            <h2>ğŸ§® æ•°ç»„è®¡ç®—æ–¹æ³•</h2>
            <p>æ¼”ç¤ºæ•°ç»„çš„å„ç§è®¡ç®—å’Œç»Ÿè®¡æ–¹æ³•</p>
            
            <button class="test-button" onclick="testArrayStats()">ç»Ÿè®¡è®¡ç®—</button>
            <button class="test-button primary" onclick="testArrayGrouping()">åˆ†ç»„æ“ä½œ</button>
            <button class="test-button success" onclick="testArrayMath()">æ•°å­¦è¿ç®—</button>
            <button class="test-button info" onclick="testArraySearch()">æœç´¢æ–¹æ³•</button>
            
            <div class="result" id="calc-result"></div>
        </div>
        
        <div class="demo-section">
            <h2>âš¡ æ€§èƒ½å¯¹æ¯”æµ‹è¯•</h2>
            <p>å¯¹æ¯”ä¸åŒæ•°ç»„æ–¹æ³•çš„æ€§èƒ½è¡¨ç°</p>
            
            <button class="test-button" onclick="runArrayPerformanceTest()">è¿è¡Œæ€§èƒ½æµ‹è¯•</button>
            
            <div class="performance-section">
                <h3>ğŸ“Š æ€§èƒ½æµ‹è¯•ç»“æœ</h3>
                <div class="performance-results" id="performance-chart"></div>
                <div class="result" id="performance-details"></div>
            </div>
        </div>
    </div>

    <script src="../vanilla-js/array-unique.js"></script>
    <script src="../vanilla-js/array-flatten.js"></script>
    
    <script>
        // æµ‹è¯•åŸºç¡€å»é‡
        function testBasicUnique() {
            const result = document.getElementById('unique-result');
            
            const testArrays = [
                [1, 2, 2, 3, 3, 4],
                ['a', 'b', 'b', 'c'],
                [1, '1', 2, '2'],
                [true, false, true, 1, 0],
                [NaN, NaN, null, null, undefined, undefined]
            ];
            
            result.textContent = 'ğŸ¯ åŸºç¡€å»é‡æµ‹è¯•:\n\n';
            
            testArrays.forEach((arr, index) => {
                result.textContent += `æµ‹è¯•${index + 1}: [${arr.join(', ')}]\n`;
                
                // æµ‹è¯•ä¸åŒæ–¹æ³•
                const methods = [
                    { name: 'Setæ–¹æ³•', func: uniqueSet },
                    { name: 'Filteræ–¹æ³•', func: uniqueFilter },
                    { name: 'Reduceæ–¹æ³•', func: uniqueReduce },
                    { name: 'Mapæ–¹æ³•', func: uniqueMap }
                ];
                
                methods.forEach(method => {
                    try {
                        const result = method.func(arr);
                        result.textContent += `  ${method.name}: [${result.join(', ')}]\n`;
                    } catch (error) {
                        result.textContent += `  ${method.name}: é”™è¯¯ - ${error.message}\n`;
                    }
                });
                
                result.textContent += '\n';
            });
        }
        
        // æµ‹è¯•å¤æ‚å»é‡
        function testComplexUnique() {
            const result = document.getElementById('unique-result');
            
            const complexArray = [
                1, 1, '1', '1',
                true, true, 1,
                false, false, 0,
                null, null, undefined, undefined,
                NaN, NaN,
                {}, {},
                [], [],
                new Date('2023-01-01'), new Date('2023-01-01')
            ];
            
            result.textContent = 'ğŸ§© å¤æ‚å»é‡æµ‹è¯•:\n\n';
            result.textContent += `åŸæ•°ç»„é•¿åº¦: ${complexArray.length}\n`;
            result.textContent += `åŸæ•°ç»„: [${complexArray.map(item => 
                typeof item === 'object' ? JSON.stringify(item) : String(item)
            ).join(', ')}]\n\n`;
            
            const methods = [
                { name: 'Setæ–¹æ³•', func: uniqueSet },
                { name: 'ä¸¥æ ¼ç›¸ç­‰', func: uniqueStrictEqual },
                { name: 'å¤„ç†NaN', func: uniqueWithNaN },
                { name: 'ç±»å‹æ•æ„Ÿ', func: uniqueTypeSensitive }
            ];
            
            methods.forEach(method => {
                try {
                    const start = performance.now();
                    const uniqueResult = method.func(complexArray);
                    const time = performance.now() - start;
                    
                    result.textContent += `${method.name}:\n`;
                    result.textContent += `  ç»“æœé•¿åº¦: ${uniqueResult.length}\n`;
                    result.textContent += `  æ‰§è¡Œæ—¶é—´: ${time.toFixed(3)}ms\n`;
                    result.textContent += `  ç»“æœ: [${uniqueResult.map(item => 
                        typeof item === 'object' ? JSON.stringify(item) : String(item)
                    ).slice(0, 10).join(', ')}${uniqueResult.length > 10 ? '...' : ''}]\n\n`;
                } catch (error) {
                    result.textContent += `${method.name}: é”™è¯¯ - ${error.message}\n\n`;
                }
            });
        }
        
        // æµ‹è¯•å¯¹è±¡å»é‡
        function testObjectUnique() {
            const result = document.getElementById('unique-result');
            
            const objectArray = [
                { id: 1, name: 'Alice' },
                { id: 2, name: 'Bob' },
                { id: 1, name: 'Alice' },
                { id: 3, name: 'Charlie' },
                { id: 2, name: 'Bob' }
            ];
            
            result.textContent = 'ğŸ“¦ å¯¹è±¡å»é‡æµ‹è¯•:\n\n';
            result.textContent += 'åŸæ•°ç»„:\n';
            objectArray.forEach((obj, index) => {
                result.textContent += `  ${index}: ${JSON.stringify(obj)}\n`;
            });
            
            result.textContent += '\nå»é‡æ–¹æ³•:\n';
            
            // æŒ‰JSONå­—ç¬¦ä¸²å»é‡
            const jsonUnique = uniqueByJSON(objectArray);
            result.textContent += `JSONæ–¹æ³•: ${jsonUnique.length}ä¸ªå¯¹è±¡\n`;
            jsonUnique.forEach((obj, index) => {
                result.textContent += `  ${index}: ${JSON.stringify(obj)}\n`;
            });
            
            // æŒ‰å±æ€§å»é‡
            const keyUnique = uniqueByKey(objectArray, 'id');
            result.textContent += `\næŒ‰IDå»é‡: ${keyUnique.length}ä¸ªå¯¹è±¡\n`;
            keyUnique.forEach((obj, index) => {
                result.textContent += `  ${index}: ${JSON.stringify(obj)}\n`;
            });
        }
        
        // è‡ªå®šä¹‰å»é‡æµ‹è¯•
        function customUniqueTest() {
            const input = document.getElementById('unique-input').value;
            const display = document.getElementById('unique-display');
            const results = document.getElementById('unique-results');
            
            try {
                // è§£æè¾“å…¥
                const array = input.split(',').map(item => {
                    const trimmed = item.trim();
                    if (trimmed === 'NaN') return NaN;
                    if (trimmed === 'null') return null;
                    if (trimmed === 'undefined') return undefined;
                    if (trimmed === 'true') return true;
                    if (trimmed === 'false') return false;
                    if (!isNaN(trimmed) && trimmed !== '') return Number(trimmed);
                    return trimmed;
                });
                
                // æµ‹è¯•ä¸åŒæ–¹æ³•
                const methods = [
                    { name: 'Setæ–¹æ³•', func: uniqueSet, color: '#007bff' },
                    { name: 'Filteræ–¹æ³•', func: uniqueFilter, color: '#28a745' },
                    { name: 'Reduceæ–¹æ³•', func: uniqueReduce, color: '#ffc107' },
                    { name: 'Forå¾ªç¯', func: uniqueForLoop, color: '#dc3545' }
                ];
                
                results.innerHTML = '';
                
                methods.forEach(method => {
                    const methodResult = method.func(array);
                    const div = document.createElement('div');
                    div.style.margin = '10px 0';
                    div.innerHTML = `
                        <strong style="color: ${method.color}">${method.name}:</strong>
                        <div style="margin: 5px 0;">
                            ${methodResult.map(item => `<span class="array-item">${String(item)}</span>`).join('')}
                        </div>
                        <small>é•¿åº¦: ${methodResult.length}</small>
                    `;
                    results.appendChild(div);
                });
                
                display.style.display = 'block';
                
            } catch (error) {
                alert('è¾“å…¥æ ¼å¼é”™è¯¯: ' + error.message);
            }
        }
        
        // æµ‹è¯•åŸºç¡€æ‰å¹³åŒ–
        function testBasicFlatten() {
            const result = document.getElementById('flatten-result');
            
            const testArrays = [
                [1, [2, 3], 4],
                [1, [2, [3, 4]], 5],
                [[1, 2], [3, [4, [5]]]],
                [1, , 3, [4, , 6]],  // ç¨€ç–æ•°ç»„
                []
            ];
            
            result.textContent = 'ğŸ”„ åŸºç¡€æ‰å¹³åŒ–æµ‹è¯•:\n\n';
            
            testArrays.forEach((arr, index) => {
                result.textContent += `æµ‹è¯•${index + 1}: ${JSON.stringify(arr)}\n`;
                
                try {
                    const recursive = flattenRecursive(arr);
                    const iterative = flattenIterative(arr);
                    const reduce = flattenReduce(arr);
                    
                    result.textContent += `  é€’å½’æ–¹æ³•: ${JSON.stringify(recursive)}\n`;
                    result.textContent += `  è¿­ä»£æ–¹æ³•: ${JSON.stringify(iterative)}\n`;
                    result.textContent += `  Reduceæ–¹æ³•: ${JSON.stringify(reduce)}\n`;
                    
                    const allSame = JSON.stringify(recursive) === JSON.stringify(iterative) &&
                                   JSON.stringify(iterative) === JSON.stringify(reduce);
                    result.textContent += `  ç»“æœä¸€è‡´: ${allSame ? 'âœ…' : 'âŒ'}\n\n`;
                } catch (error) {
                    result.textContent += `  é”™è¯¯: ${error.message}\n\n`;
                }
            });
        }
        
        // æµ‹è¯•æŒ‡å®šæ·±åº¦æ‰å¹³åŒ–
        function testDepthFlatten() {
            const result = document.getElementById('flatten-result');
            
            const deepArray = [1, [2, [3, [4, [5, [6]]]]]];
            
            result.textContent = 'ğŸ“ æŒ‡å®šæ·±åº¦æ‰å¹³åŒ–æµ‹è¯•:\n\n';
            result.textContent += `åŸæ•°ç»„: ${JSON.stringify(deepArray)}\n\n`;
            
            for (let depth = 1; depth <= 5; depth++) {
                const flattened = flattenRecursive(deepArray, depth);
                result.textContent += `æ·±åº¦${depth}: ${JSON.stringify(flattened)}\n`;
            }
            
            const fullyFlattened = flattenRecursive(deepArray, Infinity);
            result.textContent += `å®Œå…¨æ‰å¹³åŒ–: ${JSON.stringify(fullyFlattened)}\n`;
        }
        
        // ç”ŸæˆåµŒå¥—æ•°ç»„
        function generateNestedArray() {
            const depth = parseInt(document.getElementById('flatten-depth').value);
            const display = document.getElementById('flatten-display');
            const steps = document.getElementById('flatten-steps');
            
            // ç”ŸæˆæŒ‡å®šæ·±åº¦çš„åµŒå¥—æ•°ç»„
            function generateNested(currentDepth) {
                if (currentDepth <= 0) {
                    return Math.floor(Math.random() * 10);
                }
                
                const length = Math.floor(Math.random() * 3) + 2;
                const array = [];
                
                for (let i = 0; i < length; i++) {
                    if (Math.random() > 0.5) {
                        array.push(generateNested(currentDepth - 1));
                    } else {
                        array.push(Math.floor(Math.random() * 10));
                    }
                }
                
                return array;
            }
            
            const nestedArray = generateNested(depth);
            
            steps.innerHTML = `
                <div><strong>ç”Ÿæˆçš„åµŒå¥—æ•°ç»„:</strong></div>
                <div style="background: #f8f9fa; padding: 10px; border-radius: 5px; margin: 10px 0; font-family: monospace;">
                    ${JSON.stringify(nestedArray, null, 2)}
                </div>
                <div><strong>æ•°ç»„æ·±åº¦:</strong> ${depth}</div>
            `;
            
            // ä¿å­˜åˆ°å…¨å±€å˜é‡ä¾›æµ‹è¯•ä½¿ç”¨
            window.currentNestedArray = nestedArray;
            display.style.display = 'block';
        }
        
        // æµ‹è¯•è‡ªå®šä¹‰æ‰å¹³åŒ–
        function testCustomFlatten() {
            if (!window.currentNestedArray) {
                alert('è¯·å…ˆç”ŸæˆåµŒå¥—æ•°ç»„');
                return;
            }
            
            const steps = document.getElementById('flatten-steps');
            const array = window.currentNestedArray;
            
            // æ¼”ç¤ºä¸åŒæ·±åº¦çš„æ‰å¹³åŒ–è¿‡ç¨‹
            let html = steps.innerHTML;
            html += '<div style="margin-top: 20px;"><strong>æ‰å¹³åŒ–è¿‡ç¨‹:</strong></div>';
            
            for (let depth = 1; depth <= 5; depth++) {
                try {
                    const result = flattenRecursive(array, depth);
                    html += `
                        <div style="margin: 10px 0; padding: 10px; background: #e9ecef; border-radius: 5px;">
                            <strong>æ·±åº¦ ${depth}:</strong> ${JSON.stringify(result)}
                        </div>
                    `;
                    
                    // å¦‚æœå·²ç»å®Œå…¨æ‰å¹³åŒ–ï¼Œåœæ­¢
                    if (JSON.stringify(result) === JSON.stringify(flattenRecursive(array, depth + 1))) {
                        html += '<div style="color: #28a745; font-weight: bold;">âœ… å·²å®Œå…¨æ‰å¹³åŒ–</div>';
                        break;
                    }
                } catch (error) {
                    html += `<div style="color: #dc3545;">âŒ æ·±åº¦ ${depth}: ${error.message}</div>`;
                }
            }
            
            steps.innerHTML = html;
        }
        
        // æµ‹è¯•æ•°ç»„ç»Ÿè®¡
        function testArrayStats() {
            const result = document.getElementById('calc-result');
            
            const numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
            const mixed = [1, 'a', 2, 'b', 3, true, false, null];
            
            result.textContent = 'ğŸ“Š æ•°ç»„ç»Ÿè®¡æµ‹è¯•:\n\n';
            
            // æ•°å­—æ•°ç»„ç»Ÿè®¡
            result.textContent += `æ•°å­—æ•°ç»„: [${numbers.join(', ')}]\n`;
            result.textContent += `  æ€»å’Œ: ${numbers.reduce((a, b) => a + b, 0)}\n`;
            result.textContent += `  å¹³å‡å€¼: ${(numbers.reduce((a, b) => a + b, 0) / numbers.length).toFixed(2)}\n`;
            result.textContent += `  æœ€å¤§å€¼: ${Math.max(...numbers)}\n`;
            result.textContent += `  æœ€å°å€¼: ${Math.min(...numbers)}\n`;
            result.textContent += `  ä¸­ä½æ•°: ${getMedian(numbers)}\n\n`;
            
            // æ··åˆæ•°ç»„ç»Ÿè®¡
            result.textContent += `æ··åˆæ•°ç»„: [${mixed.map(x => JSON.stringify(x)).join(', ')}]\n`;
            result.textContent += `  æ•°å­—: ${mixed.filter(x => typeof x === 'number').length}ä¸ª\n`;
            result.textContent += `  å­—ç¬¦ä¸²: ${mixed.filter(x => typeof x === 'string').length}ä¸ª\n`;
            result.textContent += `  å¸ƒå°”å€¼: ${mixed.filter(x => typeof x === 'boolean').length}ä¸ª\n`;
            result.textContent += `  null/undefined: ${mixed.filter(x => x == null).length}ä¸ª\n`;
        }
        
        // è·å–ä¸­ä½æ•°
        function getMedian(arr) {
            const sorted = [...arr].sort((a, b) => a - b);
            const mid = Math.floor(sorted.length / 2);
            return sorted.length % 2 === 0 
                ? (sorted[mid - 1] + sorted[mid]) / 2
                : sorted[mid];
        }
        
        // æµ‹è¯•æ•°ç»„åˆ†ç»„
        function testArrayGrouping() {
            const result = document.getElementById('calc-result');
            
            const people = [
                { name: 'Alice', age: 25, city: 'Beijing' },
                { name: 'Bob', age: 30, city: 'Shanghai' },
                { name: 'Charlie', age: 25, city: 'Beijing' },
                { name: 'David', age: 30, city: 'Shanghai' },
                { name: 'Eve', age: 35, city: 'Guangzhou' }
            ];
            
            result.textContent = 'ğŸ‘¥ æ•°ç»„åˆ†ç»„æµ‹è¯•:\n\n';
            
            // æŒ‰å¹´é¾„åˆ†ç»„
            const byAge = groupBy(people, 'age');
            result.textContent += 'æŒ‰å¹´é¾„åˆ†ç»„:\n';
            Object.entries(byAge).forEach(([age, group]) => {
                result.textContent += `  ${age}å²: ${group.map(p => p.name).join(', ')}\n`;
            });
            
            // æŒ‰åŸå¸‚åˆ†ç»„
            const byCity = groupBy(people, 'city');
            result.textContent += '\næŒ‰åŸå¸‚åˆ†ç»„:\n';
            Object.entries(byCity).forEach(([city, group]) => {
                result.textContent += `  ${city}: ${group.map(p => p.name).join(', ')}\n`;
            });
        }
        
        // åˆ†ç»„å‡½æ•°
        function groupBy(array, key) {
            return array.reduce((groups, item) => {
                const value = item[key];
                if (!groups[value]) {
                    groups[value] = [];
                }
                groups[value].push(item);
                return groups;
            }, {});
        }
        
        // è¿è¡Œæ•°ç»„æ€§èƒ½æµ‹è¯•
        function runArrayPerformanceTest() {
            const chart = document.getElementById('performance-chart');
            const details = document.getElementById('performance-details');
            
            details.textContent = 'å¼€å§‹æ€§èƒ½æµ‹è¯•...\n';
            
            // ç”Ÿæˆæµ‹è¯•æ•°æ®
            const smallArray = Array.from({length: 1000}, (_, i) => Math.floor(Math.random() * 100));
            const largeArray = Array.from({length: 100000}, (_, i) => Math.floor(Math.random() * 1000));
            
            const tests = [
                {
                    name: 'å°æ•°ç»„å»é‡',
                    data: smallArray,
                    methods: [
                        { name: 'Set', func: uniqueSet },
                        { name: 'Filter', func: uniqueFilter },
                        { name: 'Reduce', func: uniqueReduce }
                    ]
                },
                {
                    name: 'å¤§æ•°ç»„å»é‡',
                    data: largeArray,
                    methods: [
                        { name: 'Set', func: uniqueSet },
                        { name: 'Filter', func: uniqueFilter }
                    ]
                }
            ];
            
            const results = [];
            
            tests.forEach(test => {
                details.textContent += `\nğŸ§ª ${test.name} (${test.data.length} é¡¹):\n`;
                
                test.methods.forEach(method => {
                    const start = performance.now();
                    const result = method.func(test.data);
                    const time = performance.now() - start;
                    
                    results.push({
                        test: test.name,
                        method: method.name,
                        time: time
                    });
                    
                    details.textContent += `  ${method.name}: ${time.toFixed(2)}ms (${result.length} é¡¹)\n`;
                });
            });
            
            // æ˜¾ç¤ºæ€§èƒ½å›¾è¡¨
            chart.innerHTML = results.map(result => `
                <div class="performance-item">
                    <div class="performance-value">${result.time.toFixed(1)}ms</div>
                    <div class="performance-label">${result.method}</div>
                    <div style="font-size: 10px; color: #666;">${result.test}</div>
                </div>
            `).join('');
            
            details.textContent += '\nâœ… æ€§èƒ½æµ‹è¯•å®Œæˆï¼';
        }
        
        // é¡µé¢åŠ è½½æç¤º
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ğŸ“š æ•°ç»„æ–¹æ³•é›†åˆæ¼”ç¤ºé¡µé¢å·²åŠ è½½');
            console.log('ğŸ’¡ ç‚¹å‡»æµ‹è¯•æŒ‰é’®æŸ¥çœ‹å„ç§æ•°ç»„æ“ä½œæ–¹æ³•');
            
            // æ·»åŠ è¯´æ˜
            document.querySelector('.demo-container').insertAdjacentHTML('afterbegin', `
                <div style="background: #fff3cd; border: 1px solid #ffeaa7; color: #856404; padding: 15px; border-radius: 5px; margin-bottom: 20px;">
                    <strong>ğŸ’¡ æ¼”ç¤ºè¯´æ˜ï¼š</strong>
                    æœ¬æ¼”ç¤ºæ¶µç›–äº†æ•°ç»„å»é‡ã€æ‰å¹³åŒ–ã€ç»Ÿè®¡è®¡ç®—ç­‰å¸¸ç”¨æ“ä½œçš„å¤šç§å®ç°æ–¹æ³•ã€‚
                    åŒ…æ‹¬æ€§èƒ½å¯¹æ¯”å’Œäº¤äº’å¼æµ‹è¯•ï¼Œå¸®åŠ©ä½ ç†è§£ä¸åŒæ–¹æ³•çš„é€‚ç”¨åœºæ™¯ã€‚
                </div>
            `);
        });
    </script>
</body>
</html>
